<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>AppEngage - Turn App Reviews into Product Roadmap | AI-Powered App Analytics</title>
    <meta name="title" content="AppEngage - Turn App Reviews into Product Roadmap | AI-Powered App Analytics">
    <meta name="description" content="Transform user reviews into actionable product insights with AI-powered analytics. Get instant reports on feature requests, user complaints, and competitor mentions delivered to your inbox.">
    <meta name="keywords" content="app reviews, product analytics, user feedback, app insights, product roadmap, AI analytics, mobile app analysis">
    <meta name="author" content="AppEngage">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://appengage.io/">
    <meta property="og:title" content="AppEngage - Turn App Reviews into Product Roadmap">
    <meta property="og:description" content="Transform user reviews into actionable product insights with AI-powered analytics. Get instant reports delivered to your inbox.">
    <meta property="og:image" content="https://appengage.io/images/preview-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/png">
    <meta property="og:site_name" content="AppEngage">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://appengage.io/">
    <meta property="twitter:title" content="AppEngage - Turn App Reviews into Product Roadmap">
    <meta property="twitter:description" content="Transform user reviews into actionable product insights with AI-powered analytics. Get instant reports delivered to your inbox.">
    <meta property="twitter:image" content="https://appengage.io/images/preview-image.png">
    
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="images/Favicon.png">
    <link rel="apple-touch-icon" href="images/Webclip.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/Webclip.png">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://api.serphouse.com">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "AppEngage",
        "description": "AI-powered app review analytics platform that transforms user feedback into actionable product insights",
        "url": "https://appengage.io",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "description": "Free app review analysis report"
        },
        "publisher": {
            "@type": "Organization",
            "name": "AppEngage",
            "email": "insights@appengage.io"
        },
        "featureList": [
            "AI-powered review analysis",
            "Key insights extraction",
            "Feature request identification",
            "User complaint analysis",
            "Competitor mention tracking"
        ]
    }
    </script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav">
                <div class="logo">
                    <img src="images/appengage-logo.svg" alt="AppEngage" class="logo-image">
                </div>
                
                <!-- Hamburger Menu Button -->
                <button class="hamburger-menu" id="hamburger-menu" aria-label="Menu">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
                
                <!-- Desktop Navigation -->
                <nav class="navigation desktop-nav">
                    <div class="nav-links">
                        <a href="#features">How it Works</a>
                        <a href="#sample-reports">See Examples</a>
                        <a href="#resources">Resources</a>
                    </div>
                </nav>
                <a href="#try-free" class="cta-button desktop-cta">Get Free Report</a>
                
                <!-- Mobile Navigation Menu -->
                <div class="mobile-nav" id="mobile-nav">
                    <div class="mobile-nav-content">
                        <a href="#features" class="mobile-nav-link">How it Works</a>
                        <a href="#sample-reports" class="mobile-nav-link">See Examples</a>
                        <a href="#resources" class="mobile-nav-link">Resources</a>
                        <a href="#try-free" class="mobile-nav-link mobile-cta">Start for Free</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="powered-by">
                    <img src="images/powered-by-claude.png" alt="Powered by Claude" class="anthropic-logo" loading="lazy">
                </div>
                <h1>AI That Reads Your App Reviews So You Don't Have To</h1>
                <p class="hero-subtitle">Get a comprehensive report of user feedback, feature requests, and pain points delivered to your inbox.</p>
                <p class="hero-subtitle">Just enter your app's name â€¢ No technical setup needed</p>
                <div class="hero-actions">
                    <a href="#try-free" class="hero-cta-primary">Get Free Report</a>
                    <a href="book-demo.html" class="hero-cta-secondary">Book a demo</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Steps Section -->
    <section class="steps-section">
        <div class="container">
            <h2 class="steps-title">Your Easiest Product Research Ever</h2>
            <p class="steps-subtitle">No APIs, no developers, no spreadsheets - just insights</p>
            
            <div class="steps-grid">
                <div class="step-item">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Find your app name</h3>
                        <p>Works with any app on Google Play</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>We gather reviews</h3>
                        <p>AppEngage pulls your latest user feedback automatically</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>AI finds patterns</h3>
                        <p>Claude analyzes sentiment, features requests & pain points</p>
                    </div>
                </div>
                
                <div class="step-item">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Get your report</h3>
                        <p>Prioritized insights land in your inbox, ready for action</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Divider -->
    <div class="section-divider"></div>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <div class="features-header">
                <h2 class="features-title">Everything PMs Need in One Report</h2>
                <p class="features-subtitle">Stop guessing. Start shipping what users want.</p>
            </div>
            
            <!-- Key Insights Feature -->
            <div class="feature-section">
                <div class="feature-content">
                    <div class="feature-text">
                        <div class="feature-badge">
                            <img src="images/ai-insights.svg" alt="AI Insights" class="feature-badge-icon" loading="lazy">
                            AI Analysis
                        </div>
                        <h2 class="feature-title">See What You're Missing</h2>
                        <ul class="feature-list">
                            <li>Uncover hidden patterns in thousands of reviews</li>
                            <li>Get prioritized action items, not just data dumps</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="feature-showcase">
                            <div class="showcase-item active" data-feature="key-insights">
                                <div class="showcase-image">
                                    <img src="images/key-insights.png" alt="Key Insights Dashboard" loading="lazy">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Feature Requests Feature -->
            <div class="feature-section">
                <div class="feature-content">
                    <div class="feature-text">
                        <div class="feature-badge">
                            <img src="images/feature-requests.svg" alt="Feature Requests" class="feature-badge-icon" loading="lazy">
                            User Requests
                        </div>
                        <h2 class="feature-title">Your Next Sprint, Planned</h2>
                        <ul class="feature-list">
                            <li>Features ranked by actual user demand</li>
                            <li>Skip the guesswork on what to build next</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="feature-showcase">
                            <div class="showcase-item active" data-feature="feature-requests">
                                <div class="showcase-image">
                                    <img src="images/feature-requests.png" alt="Feature Requests Dashboard" loading="lazy">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Complaints Feature -->
            <div class="feature-section">
                <div class="feature-content">
                    <div class="feature-text">
                        <div class="feature-badge">
                            <img src="images/user-complaints.svg" alt="User Complaints" class="feature-badge-icon" loading="lazy">
                            Pain Points
                        </div>
                        <h2 class="feature-title">Fix Problems Before They Grow</h2>
                        <ul class="feature-list">
                            <li>Catch issues before they become 1-star reviews</li>
                            <li>Know which bugs actually matter to users</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="feature-showcase">
                            <div class="showcase-item active" data-feature="user-complaints">
                                <div class="showcase-image">
                                    <img src="images/user-complaints.png" alt="User Complaints Dashboard" loading="lazy">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Competitor Insights Feature -->
            <div class="feature-section">
                <div class="feature-content">
                    <div class="feature-text">
                        <div class="feature-badge">
                            <img src="images/competitor-insights.svg" alt="Competitor Insights" class="feature-badge-icon" loading="lazy">
                            Competition
                        </div>
                        <h2 class="feature-title">Stay One Step Ahead</h2>
                        <ul class="feature-list">
                            <li>See why users switch to competitors</li>
                            <li>Steal their best features (ethically)</li>
                        </ul>
                    </div>
                    <div class="feature-visual">
                        <div class="feature-showcase">
                            <div class="showcase-item active" data-feature="competitor-mentions">
                                <div class="showcase-image">
                                    <img src="images/competitor-mentions.png" alt="Competitor Insights Dashboard" loading="lazy">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sample Reports Section -->
    <section id="sample-reports" class="sample-reports">
        <div class="container">
            <h2 class="section-title">Real Reports, Real Results</h2>
            <p class="reports-subtitle">See exactly what you'll get by viewing these actual reports.<br>Select any report to explore in detail.</p>
            
            <!-- Report Category Pills -->
            <div class="report-pills">
                <button class="report-pill active" data-report="fintech">Fintech</button>
                <button class="report-pill" data-report="ecommerce">E-commerce</button>
                <button class="report-pill" data-report="streaming">Streaming</button>
                <button class="report-pill" data-report="gaming">Gaming</button>
            </div>
            
            <!-- Report Preview Area -->
            <div class="report-preview-container">
                <div class="report-preview active" id="preview-fintech" data-file="venmo_analysis_report.html">
                    <div class="preview-image">
                        <img src="images/venmo-report.png" alt="Venmo App Analysis Report" class="report-preview-img">
                    </div>
                </div>
                
                <div class="report-preview" id="preview-ecommerce" data-file="amazon_analysis_report.html">
                    <div class="preview-image">
                        <img src="images/amazon-report.png" alt="Amazon App Analysis Report" class="report-preview-img">
                    </div>
                </div>
                
                <div class="report-preview" id="preview-streaming" data-file="netflix_analysis_report.html">
                    <div class="preview-image">
                        <img src="images/netflix-report.png" alt="Netflix App Analysis Report" class="report-preview-img">
                    </div>
                </div>
                
                <div class="report-preview" id="preview-gaming" data-file="minecraft_analysis_report.html">
                    <div class="preview-image">
                        <img src="images/minecraft-report.png" alt="Minecraft App Analysis Report" class="report-preview-img">
                    </div>
                </div>
            </div>
            
            <!-- View Full Report Button (outside container) -->
            <button class="view-full-report-btn" data-file="venmo_analysis_report.html">View Full Report</button>
        </div>
    </section>

    <!-- Divider -->
    <div class="section-divider"></div>

    <!-- How to get free report section -->
    <section id="try-free" class="free-report">
        <div class="container">
            <div class="free-report-background">
                <div class="free-report-content">
                    <div class="process-content">
                        <div class="content-left">
                            <h2 class="section-title">Get Your App's Report instantly</h2>
                            <p class="section-subtitle">No Signups â€¢ No Technical Setup â€¢ No Credit Card</p>
                        </div>
                        <div class="form-container">
                            <form class="report-form" role="form" aria-label="Request free app analysis report" novalidate>
                                <div class="form-group" id="app-form-group">
                                    <label for="app-search">Find your app</label>
                                    <div class="app-search-container">
                                        <input type="text" id="app-search" name="app-search" placeholder="Try 'Netflix' or search your app..." autocomplete="off">
                                        <div class="search-dropdown" id="search-dropdown"></div>
                                        <div class="search-loading" id="search-loading">
                                            <div class="loading-spinner"></div>
                                            <span>Searching apps...</span>
                                        </div>
                                    </div>
                                    <input type="hidden" id="selected-app-url" name="playstore-url">
                                    <div class="selected-app" id="selected-app" style="display: none;">
                                        <div class="selected-app-info">
                                            <img class="selected-app-icon" id="selected-app-icon" src="" alt="" loading="lazy">
                                            <div class="selected-app-details">
                                                <span class="selected-app-name" id="selected-app-name"></span>
                                                <span class="selected-app-developer" id="selected-app-developer"></span>
                                            </div>
                                        </div>
                                        <button type="button" class="clear-selection" id="clear-selection" aria-label="Clear app selection">Ã—</button>
                                    </div>
                                    <div class="error-message" id="app-error"></div>
                                    <div class="success-message" id="app-success"></div>
                                </div>
                                <div class="form-group" id="email-form-group">
                                    <label for="email">Where should we send it?</label>
                                    <input type="email" id="email" name="email" placeholder="your@company.com">
                                    <div class="error-message" id="email-error"></div>
                                    <div class="success-message" id="email-success"></div>
                                </div>
                                <button type="submit" class="submit-btn">Get My Insights Now â†’</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="footer-logo">
                        <img src="images/appengage-logo.svg" alt="AppEngage" class="footer-logo-image" loading="lazy">
                    </div>
                    <p class="footer-mission">
                        We help product teams ship features users love.
                    </p>
                    <div class="footer-contact">
                        <span class="contact-email">Questions? insights@appengage.io</span>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="footer-section">
                        <h4>Quick Links</h4>
                        <ul>
                            <li><a href="#features">Features</a></li>
                            <li><a href="#sample-reports">Sample Reports</a></li>
                            <li><a href="book-demo.html">Book Demo</a></li>
                            <li><a href="#try-free">Get Started</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2025 AppEngage. Made for PMs, by PMs.</p>
            </div>
        </div>
    </footer>

    <!-- Success State Overlay -->
    <div class="success-overlay" id="success-overlay">
        <div class="success-content">
            <div class="success-checkmark">
                <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="40" cy="40" r="40" fill="#4CAF50"/>
                    <path d="M25 42L35 52L55 32" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <h2 class="success-title">Request Submitted!</h2>
            <p class="success-overlay-message">Thank you for your submission. We're analyzing your app's reviews and will send the report to your email shortly.</p>
            <p class="success-subtitle">Please check your inbox in the next 5 minutes.</p>
            <button class="success-close-btn" id="success-close-btn">Continue</button>
        </div>
    </div>

    <script>
        // Header scroll effect
        document.addEventListener('DOMContentLoaded', function() {
            const header = document.querySelector('.header');
            const poweredByElement = document.querySelector('.powered-by');
            
            if (!header || !poweredByElement) return;
            
            function handleScroll() {
                const poweredByRect = poweredByElement.getBoundingClientRect();
                const headerHeight = header.offsetHeight;
                
                if (poweredByRect.bottom <= headerHeight) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            }
            
            handleScroll();
            window.addEventListener('scroll', handleScroll, { passive: true });
        });

        // Mobile menu functionality
        document.addEventListener('DOMContentLoaded', function() {
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const mobileNav = document.getElementById('mobile-nav');
            
            if (hamburgerMenu && mobileNav) {
                hamburgerMenu.addEventListener('click', function() {
                    mobileNav.classList.toggle('active');
                });
                
                const mobileNavLinks = mobileNav.querySelectorAll('a');
                mobileNavLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        mobileNav.classList.remove('active');
                    });
                });
                
                document.addEventListener('click', function(e) {
                    if (!hamburgerMenu.contains(e.target) && !mobileNav.contains(e.target)) {
                        mobileNav.classList.remove('active');
                    }
                });
            }
        });

        // Sample reports functionality
        document.addEventListener('DOMContentLoaded', function() {
            const reportPills = document.querySelectorAll('.report-pill');
            const reportPreviews = document.querySelectorAll('.report-preview');
            const viewReportBtn = document.querySelector('.view-full-report-btn');
            
            reportPills.forEach(pill => {
                pill.addEventListener('click', function() {
                    const reportType = this.getAttribute('data-report');
                    
                    reportPills.forEach(p => p.classList.remove('active'));
                    this.classList.add('active');
                    
                    reportPreviews.forEach(preview => {
                        preview.classList.remove('active');
                        if (preview.id === `preview-${reportType}`) {
                            preview.classList.add('active');
                            const reportFile = preview.getAttribute('data-file');
                            if (viewReportBtn && reportFile) {
                                viewReportBtn.setAttribute('data-file', reportFile);
                            }
                        }
                    });
                });
            });
            
            if (viewReportBtn) {
                viewReportBtn.addEventListener('click', function() {
                    const reportFile = this.getAttribute('data-file');
                    if (reportFile) {
                        window.location.href = `sample-reports/${reportFile}`;
                    }
                });
            }
        });

        // App search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.getElementById('app-search');
            const searchContainer = document.querySelector('.app-search-container');
            const searchDropdown = document.getElementById('search-dropdown');
            const searchLoading = document.getElementById('search-loading');
            const selectedAppContainer = document.getElementById('selected-app');
            const selectedAppUrl = document.getElementById('selected-app-url');
            const clearSelection = document.getElementById('clear-selection');
            
            let searchTimeout;
            let selectedApp = null;
            
            if (!searchInput) return;
            
            searchInput.addEventListener('input', function() {
                const query = this.value.trim();
                
                clearTimeout(searchTimeout);
                
                if (query.length < 3) {
                    hideDropdown();
                    return;
                }
                
                searchTimeout = setTimeout(() => {
                    searchApps(query);
                }, 1000);
            });
            
            async function searchApps(query) {
                try {
                    showLoading();
                    hideDropdown();
                    
                    const response = await fetch(`/api/search-apps?query=${encodeURIComponent(query)}`);
                    const data = await response.json();
                    
                    hideLoading();
                    
                    if (data.success && data.apps && data.apps.length > 0) {
                        displayResults(data.apps);
                    } else {
                        showNoResults();
                    }
                } catch (error) {
                    console.error('Search error:', error);
                    hideLoading();
                    showError();
                }
            }
            
            function displayResults(apps) {
                searchDropdown.innerHTML = '';
                
                const filteredApps = apps.filter(app => {
                    return !(
                        app.title.toLowerCase().includes('similar apps') ||
                        app.developer.toLowerCase().includes('unknown developer') ||
                        app.title.toLowerCase() === 'similar apps'
                    );
                });
                
                filteredApps.forEach(app => {
                    let cleanDeveloper = app.developer;
                    
                    if (cleanDeveloper.toLowerCase() === app.title.toLowerCase() || 
                        app.title.toLowerCase().includes(cleanDeveloper.toLowerCase()) ||
                        cleanDeveloper.toLowerCase().includes(app.title.toLowerCase())) {
                        cleanDeveloper = 'Official App';
                    }
                    
                    cleanDeveloper = cleanDeveloper
                        .replace(/\s+(LLC|Inc\.?|Corporation|Corp\.?|Ltd\.?|Limited)$/i, '')
                        .replace(/\s+(Platforms,?\s*Inc\.?|Mobile)$/i, '')
                        .trim();
                    
                    const item = document.createElement('div');
                    item.className = 'dropdown-item';
                    item.innerHTML = `
                        <img src="${app.icon}" alt="${app.title}" class="dropdown-app-icon" loading="lazy">
                        <div class="dropdown-app-details">
                            <span class="dropdown-app-name">${app.title}</span>
                            <span class="dropdown-app-developer">${cleanDeveloper}</span>
                        </div>
                    `;
                    
                    item.addEventListener('click', () => selectApp(app));
                    searchDropdown.appendChild(item);
                });
                
                showDropdown();
            }
            
            function selectApp(app) {
                selectedApp = app;
                selectedAppUrl.value = app.url;
                
                document.getElementById('selected-app-icon').src = app.icon;
                document.getElementById('selected-app-name').textContent = app.title;
                document.getElementById('selected-app-developer').textContent = app.developer;
                
                searchContainer.style.display = 'none';
                selectedAppContainer.style.display = 'flex';
                hideDropdown();
                
                document.dispatchEvent(new CustomEvent('appSelected', { detail: app }));
            }
            
            if (clearSelection) {
                clearSelection.addEventListener('click', function() {
                    selectedApp = null;
                    searchInput.value = '';
                    selectedAppUrl.value = '';
                    
                    selectedAppContainer.style.display = 'none';
                    searchContainer.style.display = 'block';
                    searchInput.focus();
                    
                    clearFieldError('app');
                });
            }
            
            function showLoading() {
                searchLoading.classList.add('show');
            }
            
            function hideLoading() {
                searchLoading.classList.remove('show');
            }
            
            function showDropdown() {
                searchDropdown.classList.add('show');
                searchContainer.classList.add('dropdown-active');
            }
            
            function hideDropdown() {
                searchDropdown.classList.remove('show');
                searchContainer.classList.remove('dropdown-active');
            }
            
            function showNoResults() {
                searchDropdown.innerHTML = '<div class="dropdown-item search-no-results-item">No apps found. Try searching with a different app name.</div>';
                showDropdown();
            }
            
            function showError() {
                searchDropdown.innerHTML = '<div class="dropdown-item search-error-item">Unable to search apps. Please try again.</div>';
                showDropdown();
            }
            
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchDropdown.contains(e.target)) {
                    hideDropdown();
                }
            });
        });

        // Form validation and submission
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.report-form');
            const successOverlay = document.getElementById('success-overlay');
            const successCloseBtn = document.getElementById('success-close-btn');
            const emailInput = document.getElementById('email');
            
            if (emailInput) {
                emailInput.addEventListener('blur', function() {
                    validateEmail();
                });
                
                emailInput.addEventListener('input', function() {
                    clearFieldError('email');
                });
            }
            
            document.addEventListener('appSelected', function() {
                clearFieldError('app');
            });
            
            if (form) {
                form.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    clearAllErrors();
                    
                    const formData = new FormData(this);
                    const email = formData.get('email');
                    const appUrl = formData.get('playstore-url');
                    
                    let hasErrors = false;
                    
                    if (!appUrl) {
                        showFieldError('app', 'Please search and select your app from the dropdown.');
                        hasErrors = true;
                    }
                    
                    if (!email) {
                        showFieldError('email', 'Please enter your email address.');
                        hasErrors = true;
                    } else if (!isValidEmail(email)) {
                        showFieldError('email', 'Please enter a valid email address.');
                        hasErrors = true;
                    }
                    
                    if (hasErrors) {
                        return;
                    }
                    
                    const submitBtn = form.querySelector('.submit-btn');
                    const originalText = submitBtn.textContent;
                    submitBtn.textContent = 'Sending...';
                    submitBtn.disabled = true;
                    
                    try {
                        const response = await fetch('/api/submit-form', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                email: email,
                                playstore_url: appUrl
                            })
                        });
                        
                        const result = await response.json();
                        
                        if (result.success) {
                            showSuccessOverlay();
                            form.reset();
                            clearAllErrors();
                            const selectedApp = document.getElementById('selected-app');
                            const searchContainer = document.querySelector('.app-search-container');
                            selectedApp.style.display = 'none';
                            searchContainer.style.display = 'block';
                        } else {
                            showFieldError('email', result.message || 'There was an error submitting your request. Please try again.');
                        }
                    } catch (error) {
                        console.error('Form submission error:', error);
                        showFieldError('email', 'Network error. Please check your connection and try again.');
                    } finally {
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                    }
                });
            }
            
            function isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }
            
            function validateEmail() {
                const emailInput = document.getElementById('email');
                const email = emailInput.value.trim();
                
                if (!email) {
                    showFieldError('email', 'Please enter your email address.');
                    return false;
                } else if (!isValidEmail(email)) {
                    showFieldError('email', 'Please enter a valid email address.');
                    return false;
                } else {
                    clearFieldError('email');
                    return true;
                }
            }
            
            function showFieldError(fieldType, message) {
                const formGroup = document.getElementById(`${fieldType}-form-group`);
                const errorElement = document.getElementById(`${fieldType}-error`);
                const successElement = document.getElementById(`${fieldType}-success`);
                
                if (formGroup && errorElement) {
                    formGroup.classList.add('error');
                    formGroup.classList.remove('success');
                    errorElement.textContent = message;
                    errorElement.classList.add('show');
                    successElement.classList.remove('show');
                }
            }
            
            function clearFieldError(fieldType) {
                const formGroup = document.getElementById(`${fieldType}-form-group`);
                const errorElement = document.getElementById(`${fieldType}-error`);
                const successElement = document.getElementById(`${fieldType}-success`);
                
                if (formGroup && errorElement) {
                    formGroup.classList.remove('error');
                    errorElement.classList.remove('show');
                    successElement.classList.remove('show');
                }
            }
            
            function showFieldSuccess(fieldType, message) {
                const formGroup = document.getElementById(`${fieldType}-form-group`);
                const successElement = document.getElementById(`${fieldType}-success`);
                
                if (formGroup && successElement) {
                    formGroup.classList.add('success');
                    formGroup.classList.remove('error');
                    successElement.textContent = message;
                    successElement.classList.add('show');
                }
            }
            
            function clearAllErrors() {
                clearFieldError('app');
                clearFieldError('email');
            }
            
            function showSuccessOverlay() {
                if (successOverlay) {
                    successOverlay.classList.add('show');
                }
            }
            
            function hideSuccessOverlay() {
                if (successOverlay) {
                    successOverlay.classList.remove('show');
                }
            }
            
            if (successCloseBtn) {
                successCloseBtn.addEventListener('click', hideSuccessOverlay);
            }
            
            if (successOverlay) {
                successOverlay.addEventListener('click', function(e) {
                    if (e.target === successOverlay) {
                        hideSuccessOverlay();
                    }
                });
            }
        });
    </script>
</body>
</html> 